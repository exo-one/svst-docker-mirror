FROM exo1/dev-base-python:latest

# Add stuff after this so we have a common image

ADD ./stress-test-pallet-verification /src/stress-test-pallet-verification
ADD ./svst-haskell /src/svst-haskell
ADD ./svst-python /src/svst-python

WORKDIR /src/svst-haskell

RUN stack build
RUN stack install && mv ~/.local/bin/* /usr/bin/

WORKDIR /src/svst-python

RUN git pull && pip3 install -r requirements.txt
